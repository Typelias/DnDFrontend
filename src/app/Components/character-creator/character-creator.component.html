<form (ngSubmit)="addCharacter()">
  <h3>Basic info</h3>
  <mat-divider></mat-divider>
  <div id="basicInfo">
    <mat-form-field>
      <mat-label>Character Name</mat-label>
      <input matInput placeholder="Greger" [(ngModel)]="character.characterName" name="characterName">
    </mat-form-field>
    <mat-form-field>
      <mat-label>Class</mat-label>
      <mat-select (selectionChange)="classAutoFill($event.value)" [(ngModel)]="character.characterClass"
        name="characterClass">
        <mat-optgroup label="PHB">
          <mat-option value="Barbarian">Barbarian</mat-option>
          <mat-option value="Bard">Bard</mat-option>
          <mat-option value="Cleric">Cleric</mat-option>
          <mat-option value="Druid">Druid</mat-option>
          <mat-option value="Fighter">Fighter</mat-option>
          <mat-option value="Monk">Monk</mat-option>
          <mat-option value="Paladin">Paladin</mat-option>
          <mat-option value="Ranger">Ranger</mat-option>
          <mat-option value="Rogue">Rogue</mat-option>
          <mat-option value="Sorcerer">Sorcerer</mat-option>
          <mat-option value="Warlock">Warlock</mat-option>
          <mat-option value="Wizard">Wizard</mat-option>
        </mat-optgroup>
        <mat-optgroup label="Eberron">
          <mat-option value="Artificer">Artificer</mat-option>
        </mat-optgroup>
        <mat-optgroup label="Whildmount">
          <mat-option value="BloodHunter">Blood Hunter</mat-option>
        </mat-optgroup>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Level</mat-label>
      <input matInput (change)="levelAutoFill($event.target.value)" type="number" [(ngModel)]="character.level"
        name="level">
    </mat-form-field>
    <mat-form-field>
      <mat-label>Background</mat-label>
      <input [(ngModel)]="character.background" name="background" matInput>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Player Name</mat-label>
      <input disabled [ngModel]="character.playerName" name="playerName" matInput>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Race</mat-label>
      <mat-select (selectionChange)="raceAutoFill($event.value)" name="race">
        <mat-optgroup label="Dwarf">
          <mat-option value="Hill Dwarf">Hill Dwarf</mat-option>
          <mat-option value="Mountain Dwarf">Mountain Dwarf</mat-option>
        </mat-optgroup>
        <mat-optgroup label="Elf">
          <mat-option value="High Elf">High Elf</mat-option>
          <mat-option value="Wood Elf">Wood Elf</mat-option>
          <mat-option value="Drow Elf">Drow Elf</mat-option>
          <mat-option value="Sea Elf">Sea Elf</mat-option>
          <mat-option value="Eladrin">Eldrin</mat-option>
          <mat-option value="ShadarKai">Shadar-Kai</mat-option>
        </mat-optgroup>
        <mat-optgroup label="Halfling">
          <mat-option value="LightfootHalfling">Lightfoot Halfling</mat-option>
          <mat-option value="StoutHalfling">Stout Halfling</mat-option>
        </mat-optgroup>
        <mat-optgroup label="Human">
          <mat-option value="Human">Human</mat-option>
          <mat-option value="VariantHuman">Variant Human</mat-option>
        </mat-optgroup>
        <mat-optgroup label="Gnome">
          <mat-option value="Forest Gnome">Forest Gnome</mat-option>
          <mat-option value="Rock Gnome">Rock Gnome</mat-option>
          <mat-option value="Deep Gnome">Deep Gnome</mat-option>
        </mat-optgroup>
        <mat-optgroup label="Other">
          <mat-option value="Dragonborn">Dragonborn</mat-option>
          <mat-option value="Half Elf">Half Elf</mat-option>
          <mat-option value="Half Orc">Half Orc</mat-option>
          <mat-option value="Tiefling">Tiefling</mat-option>
          <mat-option value="Aasimar">Aasimar</mat-option>
          <mat-option value="Tabaxi">Tabaxi</mat-option>
          <mat-option value="Triton">Triton</mat-option>
        </mat-optgroup>
        <mat-option value="custom">Custom Race</mat-option>
      </mat-select>
    </mat-form-field>
    <div *ngIf="customCharacter">
      <mat-form-field>
        <mat-label>Custom Race Name</mat-label>
        <input [(ngModel)]="character.race" name="race" matInput>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Speed</mat-label>
        <input [(ngModel)]="character.hp.speed" name="speed" matInput>
      </mat-form-field>
    </div>
    <mat-form-field>
      <mat-label>Alignment</mat-label>
      <mat-select [(ngModel)]="character.alignment" name="alignment">
        <mat-option value="Lawful Good">Lawful Good</mat-option>
        <mat-option value="Neutral Good">Neutral Good</mat-option>
        <mat-option value="Chaotic Good">Chaotic Good</mat-option>
        <mat-option value="Lawful Neutral">Lawful Neutral</mat-option>
        <mat-option value="True Neutral">True Neutral</mat-option>
        <mat-option value="Chaotic Neutral">Chaotic Neutral</mat-option>
        <mat-option value="Lawful Evil">Lawful Evil</mat-option>
        <mat-option value="Neutral Evil">Neutral Evil</mat-option>
        <mat-option value="Chaotic Evil">Chaotic Evil</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Experience points</mat-label>
      <input matInput type="number" min="0" max="355000" [(ngModel)]="character.exp" name="exp">
    </mat-form-field>
    <mat-form-field>
      <mat-label>Armor Class</mat-label>
      <input matInput type="number" [(ngModel)]="character.hp.armorClass" name="AC">
    </mat-form-field>
    <mat-form-field>
      <mat-label>Max HP</mat-label>
      <input matInput type="number" [(ngModel)]="character.hp.maxHP" name="MaxHP">
    </mat-form-field>
  </div>
  <div id="headerWrapper">
    <h3>Stats</h3>
    <h3>Saving Throws</h3>
    <h3>Skills</h3>
  </div>

  <mat-divider></mat-divider>
  <div id="container">
    <div id="stats">
      <mat-form-field>
        <mat-label>Strength</mat-label>
        <input [(ngModel)]="character.stats.strength"
          (change)="currentStatBonus = calculateBonus($event.target.value); curentStatName = 'strength'" name="strength"
          matInput type="number">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Dexterity</mat-label>
        <input [(ngModel)]="character.stats.dexterity"
          (change)="currentStatBonus = calculateBonus($event.target.value); curentStatName = 'dexterity'"
          name="dexterity" matInput type="number">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Constitution</mat-label>
        <input [(ngModel)]="character.stats.constitution"
          (change)="currentStatBonus = calculateBonus($event.target.value); curentStatName = 'constitution'"
          name="constitution" matInput type="number">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Intelligence</mat-label>
        <input [(ngModel)]="character.stats.intelligence"
          (change)="currentStatBonus = calculateBonus($event.target.value); curentStatName = 'intelligence'"
          name="intelligence" matInput type="number">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Wisdom</mat-label>
        <input [(ngModel)]="character.stats.wisdom"
          (change)="currentStatBonus = calculateBonus($event.target.value); curentStatName = 'wisdom'" name="wisdom"
          matInput type="number">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Charisma</mat-label>
        <input [(ngModel)]="character.stats.charisma"
          (change)="currentStatBonus = calculateBonus($event.target.value); curentStatName = 'charisma'" name="charisma"
          matInput type="number">
      </mat-form-field>
      <div>
        <p *ngIf="currentStatBonus != null && curentStatName">{{formatBonusPrint(curentStatName, currentStatBonus)}}</p>
      </div>
    </div>
    <div id="savingThrows">
      <mat-checkbox [(ngModel)]="character.savingThrows.strength" disabled="true" name="savingStrength">Strength
      </mat-checkbox>
      <mat-checkbox [(ngModel)]="character.savingThrows.dexterity" disabled="true" name="savingDex">Dexterity
      </mat-checkbox>
      <mat-checkbox [(ngModel)]="character.savingThrows.constitution" disabled="true" name="savingConst">Constitution
      </mat-checkbox>
      <mat-checkbox [(ngModel)]="character.savingThrows.intelligence" disabled="true" name="savingInt">Intelligence
      </mat-checkbox>
      <mat-checkbox [(ngModel)]="character.savingThrows.wisdom" disabled="true" name="savingWis">Wisdom</mat-checkbox>
      <mat-checkbox [(ngModel)]="character.savingThrows.charisma" disabled="true" name="savingChar">Charisma
      </mat-checkbox>
    </div>
    <div id="skills">
      <mat-checkbox [(ngModel)]="character.skills.acrobatics" name="acrobatics">Acrobatics</mat-checkbox>
      <mat-checkbox [(ngModel)]="character.skills.animalHandling" name="animalHandling">Animal Handling
      </mat-checkbox>
      <mat-checkbox [(ngModel)]="character.skills.arcana" name="arcana">Arcana</mat-checkbox>
      <mat-checkbox [(ngModel)]="character.skills.athletics" name="athletics">Athletics</mat-checkbox>
      <mat-checkbox [(ngModel)]="character.skills.deception" name="deception">Deception</mat-checkbox>
      <mat-checkbox [(ngModel)]="character.skills.history" name="history">History</mat-checkbox>

      <mat-checkbox [(ngModel)]="character.skills.insight" name="insight">Insight</mat-checkbox>
      <mat-checkbox [(ngModel)]="character.skills.intimidation" name="intimidation">Intimidation</mat-checkbox>
      <mat-checkbox [(ngModel)]="character.skills.investigation" name="investigation">Investigation</mat-checkbox>
      <mat-checkbox [(ngModel)]="character.skills.medicine" name="medicine">Medicine</mat-checkbox>
      <mat-checkbox [(ngModel)]="character.skills.nature" name="nature">Nature</mat-checkbox>
      <mat-checkbox [(ngModel)]="character.skills.perception" name="perception">Perception</mat-checkbox>

      <mat-checkbox [(ngModel)]="character.skills.performance" name="performance">Performance</mat-checkbox>
      <mat-checkbox [(ngModel)]="character.skills.persuasion" name="persuasion">Persuasion</mat-checkbox>
      <mat-checkbox [(ngModel)]="character.skills.religion" name="religion">Religion</mat-checkbox>
      <mat-checkbox [(ngModel)]="character.skills.slightOfHand" name="sleightOfHand">Sleight of Hand
      </mat-checkbox>
      <mat-checkbox [(ngModel)]="character.skills.stealth" name="stealth">Stealth</mat-checkbox>
      <mat-checkbox [(ngModel)]="character.skills.survival" name="survival">Survival</mat-checkbox>

    </div>
  </div>






  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Personality (Optional)
      </mat-panel-title>
      <mat-panel-title>
        Traits, ideals, bonds, flaws, background
      </mat-panel-title>
    </mat-expansion-panel-header>
    <div>
      <div>
        <mat-form-field>
          <mat-label>Traits</mat-label>
          <textarea [(ngModel)]="character.personality.personalityTraits" cdkTextareaAutosize name="persTraits"
            matInput></textarea>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Ideals</mat-label>
          <textarea [(ngModel)]="character.personality.ideals" cdkTextareaAutosize name="ideals" matInput></textarea>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field>
          <mat-label>Bonds</mat-label>
          <textarea [(ngModel)]="character.personality.bonds" cdkTextareaAutosize name="bonds" matInput></textarea>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Flaws</mat-label>
          <textarea [(ngModel)]="character.personality.flaws" cdkTextareaAutosize name="flaws" matInput></textarea>
        </mat-form-field>
      </div>
      <mat-form-field>
        <mat-label>Backstory</mat-label>
        <textarea [(ngModel)]="character.personality.backstory" cdkTextareaAutosize name="backstory"
          matInput></textarea>
      </mat-form-field>
    </div>
  </mat-expansion-panel>
  <button type="submit" mat-raised-button color="primary">Add Character</button>
</form>